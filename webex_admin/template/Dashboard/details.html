{% extends 'Dashboard/base.html' %}
{% load static %}

{% block title %}
Details
{% endblock %}

{% block head %}
<!-- Select2 -->
  <link rel="stylesheet" href="{% static 'assets/plugins/select2/css/select2.min.css' %}">
  <link rel="stylesheet" href="{% static 'assets/plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css' %}">

<!-- dropzonejs -->
  <link rel="stylesheet" href="{% static 'assets/plugins/dropzone/min/dropzone.min.css' %}">
  <script>
    var data  = {{ data|safe }};
  </script>
{% endblock %}

{% block body %}
<body class="hold-transition sidebar-mini layout-fixed" data-panel-auto-height-mode="height">
<div class="wrapper">

  <!-- Navbar -->
  <nav class="main-header navbar navbar-expand navbar-white navbar-light">
    <!-- Left navbar links -->
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
      </li>
      <li class="nav-item d-none d-sm-inline-block">
        <a href="/dashboard" class="nav-link">Home</a>
      </li>
      <li class="nav-item d-none d-sm-inline-block">
        <a href="/contact" class="nav-link">Contact</a>
      </li>
    </ul>

    <!-- Right navbar links -->
    <ul class="navbar-nav ml-auto">
      <!-- Notifications Dropdown Menu -->
      <li class="nav-item dropdown">
        <a class="nav-link" data-toggle="dropdown" href="#">
          <i class="far fa-bell"></i>
          <span class="badge badge-warning navbar-badge">0</span>
        </a>
        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">

        </div>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-widget="fullscreen" href="#" role="button">
          <i class="fas fa-expand-arrows-alt"></i>
        </a>
      </li>
    </ul>
  </nav>
  <!-- /.navbar -->

  <!-- Main Sidebar Container -->
  <aside class="main-sidebar sidebar-dark-primary elevation-4">
    <!-- Brand Logo -->
    <a href="/" class="brand-link">
      <img src="{% static 'assets/image/Dashboard/Logo.png' %}" alt="AdminLTE Logo" class="brand-image img-circle elevation-3" style="opacity: .8">
      <span class="brand-text font-weight-light">SSBT</span>
    </a>

    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Sidebar user panel (optional) -->
      <div class="user-panel mt-3 pb-3 mb-3 d-flex">
        <div class="image">
          {% if data.profile_pic.status == 1 %}
            <img src='{{ data.profile_pic.url }}' class="img-circle elevation-2" alt="User Image">
          {% else %}
            <img src="{% static 'assets/image/Dashboard/avatar.png' %}" class="img-circle elevation-2" alt="User Image">
          {% endif %}
        </div>
        <div class="info">
          <a href="/dashboard" class="d-block" style="text-transform: capitalize;">{{ request.user.first_name }} {{ request.user.last_name }}</a>
        </div>
      </div>

      <!-- Sidebar Menu -->
      <nav class="mt-2">
        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
          <li class="nav-header">MENU</li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon nav-icon fas fa-th"></i>
              <p>
                Profile
                <i class="fas fa-angle-left right"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="/dashboard" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Dashboard</p>
                </a>
              </li>
                <li class="nav-item">
                <a href="/dashboard/edit/designation" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Edit Designation</p>
                </a>
              </li>
            </ul>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon fas fa-cog"></i>
              <p>
                Settings
                <i class="fas fa-angle-left right"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="/accounts/reset_password" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Change Password</p>
                </a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <!-- /.sidebar-menu -->
    </div>
    <!-- /.sidebar -->
  </aside>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper" style="min-height: 100vh;background-color: #fff;">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1>Details</h1>
          </div>
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item active">User Details</li>
            </ol>
          </div>
        </div>
      </div><!-- /.container-fluid -->
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="container-fluid">
          <div class="card">
			  <div class="card-body">
				<div class="tab-content">
					<div class="active tab-pane" id="details">

                      <p class="text-danger text-center py-3" id="loading">Wait for connecting to Server</p>

                      <div class="d-none" id="details-form">
                        <div class="card-body">
                          <div class="form-group">
                            <label for="name"><i class="fas fa-pen mr-1"></i> Name:</label>
                            <input type="text" class="form-control" id="name" placeholder="Enter Name" name="name" value="{{data.name}}" readonly>
                          </div>
                          <hr>
                          <div class="form-group">
                            <label for="website"><i class="fas fa-globe mr-1"></i> Website:</label>
                            <input type="text" class="form-control" id="website" placeholder="Enter Website" name="website" {% if data.website != '' %}  value="{{data.website}}" {% endif %} readonly>
                          </div>
                          <hr>
                          <div class="form-group">
                            <label for="email"><i class="fas fa-envelope mr-1"></i> Email:</label>
                            <input type="email" class="form-control" id="email" placeholder="Enter Email"  name="email"  value="{{data.email}}" readonly>
                          </div>
                          <hr>
                          <div class="form-group">
                            <label for="phone"><i class="fas fa-phone mr-1"></i> Phone No:</label>
                            <input type="text" class="form-control" id="phone" data-inputmask='"mask": "9999-9999999"' data-mask placeholder="Enter Phone No." name="phone" {% if data.phone != '' %}  value="{{data.phone}}" {% endif %} readonly>
                          </div>
                          <hr>
                          <div class="form-group">
                            <label for="mobile"><i class="fas fa-mobile-alt mr-1"></i> Mobile No:</label>
                            <input type="text" class="form-control" id="mobile" data-inputmask='"mask": "9999999999"' data-mask placeholder="Enter Mobile No."  name="mobile" {% if data.mobile != '' %}  value="{{data.mobile}}" {% endif %} readonly>
                          </div>
                          <hr>
                          <div class="form-group">
                            <label for="address"><i class="fas fa-map-marker-alt mr-1"></i> Address:</label>
                            <input type="text" class="form-control" id="address" placeholder="Enter Address" name="address" {% if data.address != '' %}  value="{{data.address}}" {% endif %} readonly>
                          </div>

                          <hr>
                          <div class="form-group">
                            <label for="date_of_birth"><i class="fas fa-birthday-cake mr-1"></i> Date of Birth:</label>
                            <input type="text" class="form-control" id="date_of_birth" placeholder="Enter Date of Birth" data-inputmask-alias="datetime" data-inputmask-inputformat="dd/mm/yyyy" data-mask="" inputmode="numeric" name="date_of_birth" {% if date_of_birth != '' %}  value="{{data.date_of_birth}}" {% endif %} readonly>
                          </div>
                          <hr>
                          <div class="form-group text-right">
                            <span id="loading-animation" class="fas fa-spinner fa-pulse d-none"></span>
                            <button type="button" class="btn btn-primary" id="details-form-submit">Save</button>
                          </div>
                        </div>

                        <hr>
                        <div class="form-group">
                          <label for="profile-dropzone"><i class="fas fa-camera mr-1"></i> Profile Picture:</label>
                          <p style="color: 'red';" id="profile-dropzone-message"></p>
                          <hr>
                          <form action="/dashboard/edit/profile" method="post" class="dropzone" id="profile-dropzone">
                            {% csrf_token %}
                            <div class="fallback">
                              <input name="file" type="file" />
                            </div>
                          </form>

                        </div>

                      </div>
					</div>
                  <!-- /.tab-pane -->
                </div>
                <!-- /.tab-content -->
              </div><!-- /.card-body -->
            </div>
            <!-- /.card -->
      </div>
      <!-- /.container-fluid -->
    </section>
    <!-- /.content -->
  </div>
	<!-- /.content-wrapper -->

</div>

<!-- InputMask -->
  <script src="{% static 'assets/plugins/moment/moment.min.js' %}"></script>
  <script src="{% static 'assets/plugins/inputmask/jquery.inputmask.min.js' %}"></script>
  <!-- Select2 -->
  <script src="{% static 'assets/plugins/select2/js/select2.full.min.js' %}"></script>
  <!-- dropzonejs -->
  <script src="{% static 'assets/plugins/dropzone/min/dropzone.min.js' %}"></script>

  <!-- page script -->
  <script src="{% static 'js/Dashboard/details.js' %}"></script>
</body>
{% endblock %}